<ng-container *ngIf="productId == '99'">
    <div class="grid">
        <div class="col-12 lg:col-1 xl:col-1 md:col-1"></div>
        <div class="col-12 lg:col-10 xl:col-10">
            <div class="memberDetailCard">
                <div class="col-12 sm:col-5 md:col-5 lg:col-5 xl:col-5">
                    <div class="input-control-container">
                        <label class="input-form-label"
                            >Industry&nbsp;<span class="text-danger"
                                >*</span
                            ></label
                        >
                        <p-dropdown
                            class="w-full flex css"
                            styleClass="w-full"
                            placeholder="Select Industry"
                            [filter]="true"
                            filterBy="CodeDesc"
                            [(ngModel)]="productItem.IndustryId"
                            (onChange)="IndustryChanged()"
                            [options]="industryTypeList"
                            appendTo="body"
                            optionLabel="CodeDesc"
                            optionValue="Code"
                        />
                    </div>
                    <div class="error-text text-danger" *ngIf="IndustryError">
                        Please Select Industry
                    </div>
                    <br />
                </div>
                <div class="grid ml-2">
                    <div class="col-12 lg:col-10 xl:col-10">
                        <b>Court Bond</b>
                    </div>
                </div>
                <div class="">
                    <div style="width: 100%">
                        <div>
                            <div>
                                <div class="col-12">
                                    <div>
                                        <form [formGroup]="form">
                                            <p-table
                                                [value]="
                                                    CourtBondEngineerfields
                                                "
                                                class="p-datatable-gridlines"
                                            >
                                                <ng-template pTemplate="header">
                                                    <!-- <tr>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                                <th>Cover Type</th>
                                                                                                <th>Sum Insured </th>
                                                                                            </tr> -->
                                                </ng-template>
                                                <ng-template
                                                    pTemplate="body"
                                                    let-row
                                                >
                                                    <tr>
                                                        <td>
                                                            <label
                                                                *ngIf="
                                                                    row[0] &&
                                                                    !row[0]
                                                                        ?.fieldGroup
                                                                "
                                                                >{{
                                                                    row[0]
                                                                        ?.props
                                                                        ?.label
                                                                }}</label
                                                            >
                                                            <label
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.fieldGroup
                                                                "
                                                                >{{
                                                                    row[0]
                                                                        ?.fieldGroup[0]
                                                                        ?.props
                                                                        ?.label
                                                                }}</label
                                                            >
                                                        </td>
                                                        <td>
                                                            <input
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.type ===
                                                                        'commaSeparator' ||
                                                                    row[0]
                                                                        ?.type ===
                                                                        'number-input' ||
                                                                    row[0]
                                                                        ?.type ===
                                                                        'input'
                                                                "
                                                                pInputText
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[0]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                type="text"
                                                                class="w-full"
                                                                [placeholder]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                                styleClass="col-5 p-0  w-full"
                                                            />
                                                            <p-dropdown
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.type ===
                                                                    'ngselect'
                                                                "
                                                                appendTo="body"
                                                                class="w-full flex css"
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[0]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                [options]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.options
                                                                "
                                                                [placeholder]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                                [filter]="true"
                                                                styleClass="col-5 p-0 w-full flex css"
                                                            >
                                                            </p-dropdown>
                                                            <!-- For Radio Button List (Horizontal Layout) -->
                                                            <div
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.type ===
                                                                    'radioList'
                                                                "
                                                                class="flex gap-4"
                                                            >
                                                                <div
                                                                    *ngFor="
                                                                        let option of row[0]
                                                                            ?.props
                                                                            ?.options
                                                                    "
                                                                    class="flex align-items-center"
                                                                >
                                                                    <p-radioButton
                                                                        [name]="
                                                                            row[0]
                                                                                ?.key
                                                                        "
                                                                        [value]="
                                                                            option.value
                                                                        "
                                                                        [formControl]="
                                                                            form
                                                                                .controls[
                                                                                row[0]
                                                                                    ?.key
                                                                            ]
                                                                        "
                                                                        [inputId]="
                                                                            option.value
                                                                        "
                                                                    >
                                                                    </p-radioButton>
                                                                    <label
                                                                        [for]="
                                                                            option.value
                                                                        "
                                                                        class="ml-2"
                                                                    >
                                                                        {{
                                                                            option.label
                                                                        }}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <textarea
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.type ===
                                                                        'primeTextArea' ||
                                                                    row[0]
                                                                        ?.type ===
                                                                        'number-input'
                                                                "
                                                                pInputText
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[0]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                type="text"
                                                                class="w-full"
                                                                [placeholder]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                                styleClass="col-5 p-0  w-full"
                                                            >
                                                            </textarea>
                                                            <p-dropdown
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.type ===
                                                                    'ngselect'
                                                                "
                                                                appendTo="body"
                                                                class="w-full flex css"
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[0]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                [options]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.options
                                                                "
                                                                [placeholder]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[0]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                                [filter]="true"
                                                                styleClass="col-5 p-0 w-full flex css"
                                                            >
                                                            </p-dropdown>
                                                            <!-- Date Picker (p-calendar) -->
                                                            <div
                                                                *ngIf="
                                                                    row[0]
                                                                        ?.type ===
                                                                    'datepicker'
                                                                "
                                                            >
                                                                <p-calendar
                                                                    class="w-full"
                                                                    styleClass="w-full"
                                                                    [formControl]="
                                                                        form
                                                                            .controls[
                                                                            row[0]
                                                                                ?.key
                                                                        ]
                                                                    "
                                                                    [formlyAttributes]="
                                                                        row[0]
                                                                    "
                                                                    [maxDate]="
                                                                        row[0]
                                                                            ?.props
                                                                            ?.datepickerOptions
                                                                            ?.max
                                                                    "
                                                                    [minDate]="
                                                                        row[0]
                                                                            ?.props
                                                                            ?.datepickerOptions
                                                                            ?.min
                                                                    "
                                                                    appendTo="body"
                                                                    [iconDisplay]="
                                                                        'input'
                                                                    "
                                                                    [showIcon]="
                                                                        true
                                                                    "
                                                                    dateFormat="dd/mm/yy"
                                                                    [placeholder]="
                                                                        row[0]
                                                                            ?.props
                                                                            ?.placeholder
                                                                    "
                                                                >
                                                                </p-calendar>
                                                            </div>

                                                            <div
                                                                *ngIf="
                                                                    form.controls[
                                                                        row[0]
                                                                            ?.key
                                                                    ]?.hasError(
                                                                        'required'
                                                                    ) &&
                                                                    form
                                                                        .controls[
                                                                        row[0]
                                                                            ?.key
                                                                    ]?.touched
                                                                "
                                                            >
                                                                <small
                                                                    class="error-text"
                                                                    >This field
                                                                    is
                                                                    required.</small
                                                                >
                                                            </div>
                                                        </td>

                                                        <td>
                                                            <!-- If row[1] is a normal field, display its label -->
                                                            <label
                                                                *ngIf="
                                                                    row[1] &&
                                                                    !row[1]
                                                                        ?.fieldGroup
                                                                "
                                                                >{{
                                                                    row[1]
                                                                        ?.props
                                                                        ?.label
                                                                }}</label
                                                            >

                                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                                            <label
                                                                *ngIf="
                                                                    row[1]
                                                                        ?.fieldGroup
                                                                "
                                                                >{{
                                                                    row[1]
                                                                        ?.fieldGroup[0]
                                                                        ?.props
                                                                        ?.label
                                                                }}</label
                                                            >
                                                        </td>

                                                        <td>
                                                            <input
                                                                *ngIf="
                                                                    row[1]
                                                                        ?.type ===
                                                                        'commaSeparator' ||
                                                                    row[1]
                                                                        ?.type ===
                                                                        'input'
                                                                "
                                                                pInputText
                                                                styleClass=" w-full"
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[1]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                [type]="
                                                                    row[1]?.type
                                                                "
                                                                class="w-full"
                                                                [placeholder]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                            />

                                                            <p-dropdown
                                                                *ngIf="
                                                                    row[1]
                                                                        ?.type ===
                                                                    'ngselect'
                                                                "
                                                                appendTo="body"
                                                                styleClass=" w-full"
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[1]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                [options]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.options
                                                                "
                                                                class="w-full flex css"
                                                                [placeholder]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                                [filter]="true"
                                                            >
                                                            </p-dropdown>
                                                            <div
                                                                *ngIf="
                                                                    row[1]
                                                                        ?.type ===
                                                                    'radioList'
                                                                "
                                                                class="flex gap-4"
                                                            >
                                                                <div
                                                                    *ngFor="
                                                                        let option of row[1]
                                                                            ?.props
                                                                            ?.options
                                                                    "
                                                                    class="flex align-items-center"
                                                                >
                                                                    <p-radioButton
                                                                        [name]="
                                                                            row[1]
                                                                                ?.key
                                                                        "
                                                                        [value]="
                                                                            option.value
                                                                        "
                                                                        [formControl]="
                                                                            form
                                                                                .controls[
                                                                                row[1]
                                                                                    ?.key
                                                                            ]
                                                                        "
                                                                        [inputId]="
                                                                            option.value
                                                                        "
                                                                    >
                                                                    </p-radioButton>
                                                                    <label
                                                                        [for]="
                                                                            option.value
                                                                        "
                                                                        class="ml-2"
                                                                    >
                                                                        {{
                                                                            option.label
                                                                        }}
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <textarea
                                                                *ngIf="
                                                                    row[1]
                                                                        ?.type ===
                                                                        'primeTextArea' ||
                                                                    row[1]
                                                                        ?.type ===
                                                                        'number-input'
                                                                "
                                                                pInputText
                                                                [formControl]="
                                                                    form
                                                                        .controls[
                                                                        row[1]
                                                                            ?.key
                                                                    ]
                                                                "
                                                                type="text"
                                                                class="w-full"
                                                                [placeholder]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.placeholder
                                                                "
                                                                [required]="
                                                                    row[1]
                                                                        ?.props
                                                                        ?.required
                                                                "
                                                                styleClass="col-5 p-0  w-full"
                                                            >
                                                            </textarea>
                                                            <!-- Date Picker (p-calendar) -->
                                                            <div
                                                                *ngIf="
                                                                    row[1]
                                                                        ?.type ===
                                                                    'datepicker'
                                                                "
                                                            >
                                                                <p-calendar
                                                                    class="w-full"
                                                                    styleClass="w-full"
                                                                    [formControl]="
                                                                        form
                                                                            .controls[
                                                                            row[1]
                                                                                ?.key
                                                                        ]
                                                                    "
                                                                    [formlyAttributes]="
                                                                        row[1]
                                                                    "
                                                                    [maxDate]="
                                                                        row[1]
                                                                            ?.props
                                                                            ?.datepickerOptions
                                                                            ?.max
                                                                    "
                                                                    [minDate]="
                                                                        row[1]
                                                                            ?.props
                                                                            ?.datepickerOptions
                                                                            ?.min
                                                                    "
                                                                    appendTo="body"
                                                                    [iconDisplay]="
                                                                        'input'
                                                                    "
                                                                    [showIcon]="
                                                                        true
                                                                    "
                                                                    dateFormat="dd/mm/yy"
                                                                    [placeholder]="
                                                                        row[1]
                                                                            ?.props
                                                                            ?.placeholder
                                                                    "
                                                                >
                                                                </p-calendar>
                                                            </div>

                                                            <div
                                                                *ngIf="
                                                                    form.controls[
                                                                        row[1]
                                                                            ?.key
                                                                    ]?.hasError(
                                                                        'required'
                                                                    ) &&
                                                                    form
                                                                        .controls[
                                                                        row[1]
                                                                            ?.key
                                                                    ]?.touched
                                                                "
                                                            >
                                                                <small
                                                                    class="error-text"
                                                                    >This field
                                                                    is
                                                                    required.</small
                                                                >
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </ng-template>
                                            </p-table>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row px-4">
                    <div class="col-12">
                        <form [formGroup]="form">
                            <p-table
                                [value]="CourtBondAdditionalfields"
                                class="p-datatable-gridlines"
                            >
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Cover Type</th>
                                        <th>Sum Insured</th>
                                        <th>Cover Type</th>
                                        <th>Sum Insured</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-row>
                                    <tr>
                                        <td>
                                            <label
                                                *ngIf="
                                                    row[0] &&
                                                    !row[0]?.fieldGroup
                                                "
                                                >{{
                                                    row[0]?.props?.label
                                                }}</label
                                            >
                                            <label *ngIf="row[0]?.fieldGroup">{{
                                                row[0]?.fieldGroup[0]?.props
                                                    ?.label
                                            }}</label>
                                        </td>
                                        <td>
                                            <input
                                                *ngIf="
                                                    row[0]?.type ===
                                                        'commaSeparator' ||
                                                    row[0]?.type ===
                                                        'number-input'
                                                "
                                                pInputText
                                                [formControl]="
                                                    form.controls[row[0]?.key]
                                                "
                                                [type]="row[0]?.type"
                                                (keyup)="
                                                    CommaFormattedDynamic(
                                                        $event,
                                                        row[0]?.key
                                                    )
                                                "
                                                class="w-full"
                                                [placeholder]="
                                                    row[0]?.props?.placeholder
                                                "
                                                [required]="
                                                    row[0]?.props?.required
                                                "
                                                styleClass="col-5 p-0  w-full"
                                            />
                                            <input
                                                *ngIf="row[0]?.type === 'input'"
                                                pInputText
                                                [formControl]="
                                                    form.controls[row[0]?.key]
                                                "
                                                [type]="row[0]?.type"
                                                class="w-full"
                                                [placeholder]="
                                                    row[0]?.props?.placeholder
                                                "
                                                [required]="
                                                    row[0]?.props?.required
                                                "
                                                styleClass="col-5 p-0  w-full"
                                            />
                                            <p-dropdown
                                                *ngIf="
                                                    row[0]?.type === 'ngselect'
                                                "
                                                appendTo="body"
                                                class="w-full flex css"
                                                [formControl]="
                                                    form.controls[row[0]?.key]
                                                "
                                                [options]="occupationList"
                                                [placeholder]="
                                                    row[0]?.props?.placeholder
                                                "
                                                [required]="
                                                    row[0]?.props?.required
                                                "
                                                [filter]="true"
                                                styleClass="col-5 p-0 w-full flex css"
                                            >
                                            </p-dropdown>
                                            <div
                                                *ngIf="
                                                    form.controls[
                                                        row[0]?.key
                                                    ]?.hasError('required') &&
                                                    form.controls[row[0]?.key]
                                                        ?.touched
                                                "
                                            >
                                                <small class="error-text"
                                                    >This field is
                                                    required.</small
                                                >
                                            </div>
                                        </td>
                                        <td>
                                            <!-- If row[1] is a normal field, display its label -->
                                            <label
                                                *ngIf="
                                                    row[1] &&
                                                    !row[1]?.fieldGroup
                                                "
                                                >{{
                                                    row[1]?.props?.label
                                                }}</label
                                            >

                                            <!-- If row[1] is a fieldGroup, display the first child field's label -->
                                            <label *ngIf="row[1]?.fieldGroup">{{
                                                row[1]?.fieldGroup[0]?.props
                                                    ?.label
                                            }}</label>
                                        </td>

                                        <td>
                                            <input
                                                *ngIf="
                                                    row[1]?.type ===
                                                    'commaSeparator'
                                                "
                                                pInputText
                                                styleClass=" w-full"
                                                [formControl]="
                                                    form.controls[row[1]?.key]
                                                "
                                                [type]="row[1]?.type"
                                                (keyup)="
                                                    CommaFormattedDynamic(
                                                        $event,
                                                        row[1]?.key
                                                    )
                                                "
                                                class="w-full"
                                                [placeholder]="
                                                    row[1]?.props?.placeholder
                                                "
                                                [required]="
                                                    row[1]?.props?.required
                                                "
                                            />

                                            <div
                                                *ngIf="
                                                    form.controls[
                                                        row[1]?.key
                                                    ]?.hasError('required') &&
                                                    form.controls[row[1]?.key]
                                                        ?.touched
                                                "
                                            >
                                                <small class="error-text"
                                                    >This field is
                                                    required.</small
                                                >
                                            </div>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </form>
                    </div>
                </div>
                <!-- <div
                    class="input-form-error"       
                >
                    <div class="error-text text-danger text-center">
                        Enter Valid Amount
                    </div>
                </div> -->
            </div>
               <div class="text-center">
                <p-button
                    styleClass="p-button-outlined"
                    label="Back"
                    size="small"
                    [routerLink]="['/quotation/plan/quote-details']"
                    routerLinkActive="router-link-active"
                ></p-button
                >&nbsp;
                <p-button
                    label="Previous"
                    *ngIf="locationList.length > 1 && tabIndex != 0"
                    (click)="onProceedData('Previous')"
                    size="small"
                    class="mr-4 text-l mr-0"
                    styleClass="p-button-outlined"
                    icon="pi pi-chevron-left"
                ></p-button>
                <p-button
                    label="Next"
                    size="small"
                    *ngIf="
                        locationList.length > 1 &&
                        tabIndex + 1 != locationList.length
                    "
                    (click)="onProceedData('Next')"
                ></p-button
                >&nbsp;
                <p-button
                    label="Proceed"
                    size="small"
                    (click)="onProceedData('Submit')"
                ></p-button>
            </div>
            <div class="text-center mt-2">
                <p-button
                    class="mr-2"
                    label="Previous"
                    size="small"
                    (click)="previous()"
                ></p-button>
                <p-button
                    class="mr-2"
                    label="Skip"
                    size="small"
                    (click)="skip()"
                ></p-button>
                <p-button
                    class="mr-2"
                    label="Save & Proceed"
                    size="small"
                    (click)="onProceedData('Submit')"
                ></p-button>
            </div>
        </div>
      
    </div>
</ng-container>
